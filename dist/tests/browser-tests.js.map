{"version":3,"sources":["webpack://browserTest/webpack/bootstrap","webpack://browserTest/./test/Connection.test.js","webpack://browserTest/./test/Service.test.js","webpack://browserTest/./test/browser-index.js","webpack://browserTest/./test/test-data.js","webpack://browserTest/./test/utils.test.js"],"names":["should","chai","expect","testData","require","conn","Pryv","Connection","pryvApiEndPoints","describe","it","api","res","length","equal","options","chunkSize","done","then","err","not","exist","get","limit","events","pryvService","Service","defaults","serviceInfoUrl","info","access","user","token","module","exports","tokenAndAPI","utils","extractTokenAndApiEndpoint","equals","endpoint"],"mappings":"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","file":"browser-tests.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./test/browser-index.js\");\n","const should = chai.should();\nconst expect = chai.expect();\n\n\nconst testData = require('./test-data.js');\n\nconst conn = new Pryv.Connection(testData.pryvApiEndPoints[0]);\n\ndescribe('Connection', function () {\n\n  describe('.api()', function () {\n    it('.api() events.get', async () => {\n      const res = await conn.api(\n        [\n          {\n            \"method\": \"events.get\",\n            \"params\": {}\n          }\n        ]);\n      res.length.should.equal(1);\n    });\n\n    it('.api() events.get split in chunks', async () => {\n      conn.options.chunkSize = 2;\n      const res = await conn.api(\n        [\n          { \"method\": \"events.get\", \"params\": {} },\n          { \"method\": \"events.get\", \"params\": {} },\n          { \"method\": \"events.get\", \"params\": {} }\n        ]);\n      res.length.should.equal(3);\n\n    });\n\n    it('.api() with callbacks', function (done) {\n      conn.api(\n        [\n          { \"method\": \"events.get\", \"params\": {} }\n        ]).then((res) => {\n          res.length.should.equal(1);\n          done();\n        }, (err) => {\n          should.not.exist(err);\n          done();\n        });\n\n    });\n  });\n\n  describe('.get()', () => {\n    it ('/events', async () => {Â \n      const res = await conn.get('events',{limit: 1});\n      res.events.length.should.equal(1);\n    });\n\n  });\n\n});","\nconst should = chai.should();\n\nconst testData = require('./test-data.js');\n\ndescribe('Service', function () {\n  it('info()', async () => {\n    const pryvService = new Pryv.Service(testData.defaults.serviceInfoUrl);\n    const res = await pryvService.info();\n    should.exist(res);\n    should.exist(res.access);\n  });\n});\n\n\n","/**\n * Entry Point for WebPack to build test series to be run in browser\n */\nrequire('./utils.test.js');\nrequire('./Connection.test.js');\nrequire('./Service.test.js');","/**\n * Data used for tests\n */\nconst defaults = {\n  user: 'marianne.pryv.me',\n  token: 'ck48a23l000hn1g40xjjg1y0i',\n  serviceInfoUrl: 'https://reg.pryv.me/service/info'\n}\n\nmodule.exports = {\n  defaults: defaults,\n  pryvApiEndPoints : [\n    'https://' + defaults.token + '@' + defaults.user\n  ]\n}","\nconst should = chai.should();\n\nconst testData = require('./test-data.js');\n\ndescribe('utils', function () {\n  it('extractTokenAndApiEndpoint', function (done) {\n    const tokenAndAPI = Pryv.utils\n      .extractTokenAndApiEndpoint(testData.pryvApiEndPoints[0]);\n    testData.defaults.token.should.equals(tokenAndAPI.token);\n\n    ('https://' + testData.defaults.user + '/').should.equals(tokenAndAPI.endpoint);\n\n    done();\n  });\n});\n\n\n"],"sourceRoot":""}